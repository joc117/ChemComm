<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>From chemical warfare to cancer cure: The evolution of chemotherapy</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        /* Reset and base styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body, html {
            width: 100%;
            height: 100%;
            font-family: 'Arial', sans-serif;
            color: #333;
            line-height: 1.6;
            overflow-x: hidden;
            scroll-behavior: smooth;
            background: #f5f7fa;
        }
        
        /* Main container */
        .chemotherapy-animation {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Header styles */
        .header {
            text-align: center;
            padding: 80px 20px 60px;
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            color: white;
            position: relative;
            z-index: 10;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 0 100%);
            margin-bottom: -30px;
        }
        
        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto;
            opacity: 0.9;
        }
        
        .team-members {
            max-width: 800px;
            margin: 0 auto 60px;
            padding: 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            position: relative;
            z-index: 10;
            border: 1px solid rgba(255,255,255,0.3);
            backdrop-filter: blur(5px);
        }
        
        .team-members h3 {
            color: #1a2980;
            margin-bottom: 10px;
        }
        
        .team-members p {
            margin: 5px 0;
            font-size: 1.1rem;
        }
        
        /* Scene container styles */
        .scene {
            min-height: 100vh;
            padding: 80px 40px;
            margin-bottom: 40px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            max-width: 1000px;
            margin: 60px auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
        }
        
        .scene::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 10px;
            background: linear-gradient(90deg, #26d0ce, #1a2980);
        }
        
        .scene h2 {
            color: #1a2980;
            border-bottom: 3px solid #26d0ce;
            padding-bottom: 15px;
            margin-top: 0;
            font-size: 2.2rem;
            margin-bottom: 40px;
            position: relative;
        }
        
        .scene h2::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 100px;
            height: 3px;
            background: #1a2980;
        }
        
        .scene p {
            font-size: 1.15rem;
            line-height: 1.8;
            margin-bottom: 30px;
        }
        
        /* Animation container styles */
        .animation-container {
            width: 100%;
            margin: 40px 0;
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        /* WW1 Battlefield */
        .battlefield {
            width: 100%;
            height: 400px;
            background: linear-gradient(to bottom, #6b7b8a, #ccd6dd);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            margin: 30px 0;
        }
        
        .battlefield::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="5" height="5" fill="%23333" opacity="0.1"/></svg>');
            opacity: 0.1;
        }
        
        .soldier {
            position: absolute;
            width: 40px;
            height: 70px;
            background: #5d4037;
            bottom: 0;
            left: 20%;
            z-index: 2;
            transition: all 0.3s ease;
            clip-path: polygon(0 0, 100% 0, 80% 100%, 20% 100%);
        }
        
        .soldier::before {
            content: '';
            position: absolute;
            width: 25px;
            height: 25px;
            background: #5d4037;
            top: -12px;
            left: 7px;
            border-radius: 50%;
            clip-path: polygon(0 0, 100% 0, 80% 100%, 20% 100%);
        }
        
        .soldier::after {
            content: '';
            position: absolute;
            width: 18px;
            height: 25px;
            background: #3e2723;
            top: -10px;
            left: 11px;
            border-radius: 50% 50% 0 0;
        }
        
        .gas-cloud {
            position: absolute;
            width: 100px;
            height: 80px;
            background: radial-gradient(circle, rgba(150,200,100,0.8) 0%, rgba(100,150,80,0.4) 70%, transparent 100%);
            border-radius: 50%;
            top: 30%;
            left: 70%;
            filter: blur(15px);
            opacity: 0;
            transform: scale(0.3);
            z-index: 1;
        }
        
        .small-cloud {
            position: absolute;
            width: 40px;
            height: 30px;
            background: rgba(150, 180, 100, 0.6);
            border-radius: 50%;
            filter: blur(5px);
            opacity: 0;
            transform: scale(0.5);
            z-index: 1;
        }
        
        .trench {
            position: absolute;
            width: 100%;
            height: 30px;
            background: #795548;
            bottom: 0;
            z-index: 3;
        }
        
        .trench::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 25px;
            background: #5d4037;
            bottom: 30px;
            left: 0;
            clip-path: polygon(0% 0%, 100% 0%, 90% 100%, 10% 100%);
        }
        
        .barbed-wire {
            position: absolute;
            width: 100%;
            height: 10px;
            bottom: 50px;
            background: linear-gradient(90deg, 
                transparent 5%, 
                #aaa 5%, #aaa 6%, 
                transparent 6%, transparent 10%,
                #aaa 10%, #aaa 11%,
                transparent 11%, transparent 15%,
                #aaa 15%, #aaa 16%,
                transparent 16%);
            z-index: 2;
        }
        
        .explosion {
            position: absolute;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, rgba(255,200,0,0.8) 0%, rgba(255,100,0,0.6) 50%, transparent 70%);
            border-radius: 50%;
            opacity: 0;
            filter: blur(2px);
            z-index: 4;
        }
        
        /* Laboratory Scene */
        .lab {
            width: 100%;
            height: 400px;
            background: #f0f2f5;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            margin: 30px 0;
            background-image: 
                linear-gradient(to bottom, #f0f2f5 0%, #e0e3e7 100%),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="1" height="1" fill="%23ccc"/></svg>');
        }
        
        .lab-wall {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent 0%, transparent 94%, #d0d3d6 94%, #d0d3d6 96%, transparent 96%),
                        linear-gradient(45deg, transparent 0%, transparent 94%, #d0d3d6 94%, #d0d3d6 96%, transparent 96%);
            background-size: 30px 30px;
            opacity: 0.3;
        }
        
        .lab-table {
            position: absolute;
            width: 100%;
            height: 80px;
            background: #7d5d50;
            bottom: 0;
            border-radius: 0 0 10px 10px;
            box-shadow: inset 0 -10px 20px rgba(0,0,0,0.2);
        }
        
        .flask {
            position: absolute;
            width: 80px;
            height: 120px;
            background: rgba(210, 230, 255, 0.9);
            border-radius: 25px 25px 0 0;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            border: 3px solid #a0c8f9;
            opacity: 0;
            z-index: 2;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .flask::before {
            content: '';
            position: absolute;
            width: 10px;
            height: 20px;
            background: #a0c8f9;
            top: -20px;
            left: 35px;
            border-radius: 5px 5px 0 0;
        }
        
        .flask-liquid {
            position: absolute;
            width: 60px;
            height: 50px;
            background: rgba(106, 168, 79, 0.6);
            bottom: 0;
            left: 10px;
            border-radius: 0 0 25px 25px;
            transform-origin: bottom center;
            box-shadow: inset 0 -10px 20px rgba(0,0,0,0.1);
        }
        
        .flask-bubbles {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        
        .bubble {
            position: absolute;
            width: 8px;
            height: 8px;
            background: rgba(255,255,255,0.8);
            border-radius: 50%;
            bottom: 15px;
            opacity: 0;
            filter: blur(0.5px);
        }
        
        .microscope {
            position: absolute;
            width: 80px;
            height: 60px;
            background: #d5dde0;
            bottom: 80px;
            left: 30%;
            border-radius: 8px;
            opacity: 0;
            z-index: 2;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .microscope::before {
            content: '';
            position: absolute;
            width: 40px;
            height: 60px;
            background: #b8c7cc;
            border-radius: 20px;
            top: -40px;
            left: 20px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
        }
        
        .microscope::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 25px;
            background: #8a9ca3;
            top: -60px;
            left: 35px;
            border-radius: 5px;
        }
        
        .lab-equipment {
            position: absolute;
            width: 50px;
            height: 50px;
            background: #d5dde0;
            bottom: 80px;
            right: 20%;
            border-radius: 8px;
            opacity: 0;
            z-index: 2;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .lab-equipment::before {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            background: #b8c7cc;
            top: -15px;
            left: 10px;
            border-radius: 50%;
        }
        
        .notes {
            position: absolute;
            width: 60px;
            height: 80px;
            background: #f5f5dc;
            bottom: 80px;
            right: 10%;
            transform: rotate(5deg);
            opacity: 0;
            z-index: 1;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .notes::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 10px;
            background: #e5e5c7;
            top: 20px;
            left: 0;
        }
        
        .notes::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 10px;
            background: #e5e5c7;
            top: 40px;
            left: 0;
        }
        
        /* DNA Animation */
        .dna-animation {
            width: 100%;
            height: 450px;
            position: relative;
            margin: 30px 0;
            background: #f0f5f5;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .dna-strand {
            position: absolute;
            width: 200px;
            height: 350px;
            left: 50%;
            top: 50px;
            transform: translateX(-50%);
        }
        
        .dna-backbone {
            position: absolute;
            width: 4px;
            height: 300px;
            background: linear-gradient(to bottom, #333, #666);
            left: 30px;
            top: 20px;
            border-radius: 5px;
        }
        
        .dna-backbone:nth-child(2) {
            left: 170px;
        }
        
        .dna-base {
            position: absolute;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 16px;
            opacity: 0;
            transform: scale(0);
            z-index: 2;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
        }
        
        .dna-connector {
            position: absolute;
            width: 3px;
            height: 80px;
            background: linear-gradient(to bottom, #555, #888);
            left: 100px;
            top: 50px;
            transform-origin: top center;
            opacity: 0;
            z-index: 1;
        }
        
        .crosslink {
            position: absolute;
            width: 15px;
            height: 15px;
            background: #ff5252;
            border-radius: 50%;
            opacity: 0;
            z-index: 3;
            box-shadow: 0 0 10px rgba(255,82,82,0.5);
        }
        
        .aziridinium {
            position: absolute;
            width: 30px;
            height: 30px;
            background: #ac92ec;
            border-radius: 50%;
            opacity: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 14px;
            z-index: 3;
            box-shadow: 0 0 15px rgba(172,146,236,0.6);
        }
        
        .dna-damage {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #ff1744;
            border-radius: 50%;
            opacity: 0;
            z-index: 4;
            filter: blur(2px);
        }
        
        /* Drug Types */
        .drug-types {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            margin: 50px 0;
        }
        
        .drug-card {
            width: 200px;
            height: 200px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .drug-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #26d0ce, #1a2980);
        }
        
        .drug-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .drug-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #26d0ce, #1a2980);
            border-radius: 50%;
            margin-bottom: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 28px;
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        }
        
        .drug-card h4 {
            margin: 15px 0 8px;
            color: #1a2980;
            text-align: center;
            font-size: 20px;
        }
        
        .drug-card p {
            margin: 0;
            font-size: 14px;
            color: #666;
            text-align: center;
        }
        
        /* Treatment Scene */
        .treatment-scene {
            width: 100%;
            height: 450px;
            background: #e0f7fa;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            margin: 30px 0;
            background-image: linear-gradient(to bottom, #e0f7fa 0%, #b2ebf2 100%);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .hospital-bed {
            position: absolute;
            width: 220px;
            height: 40px;
            background: #a69b97;
            bottom: 0;
            left: 30%;
            border-radius: 5px 5px 0 0;
            box-shadow: inset 0 -10px 20px rgba(0,0,0,0.1);
        }
        
        .hospital-bed::before {
            content: '';
            position: absolute;
            width: 240px;
            height: 15px;
            background: #8d7b75;
            bottom: 40px;
            left: -10px;
            border-radius: 5px;
        }
        
        .hospital-bed::after {
            content: '';
            position: absolute;
            width: 200px;
            height: 10px;
            background: #bcaaa4;
            bottom: 55px;
            left: 10px;
        }
        
        .patient {
            position: absolute;
            width: 80px;
            height: 160px;
            background: #b39ddb;
            bottom: 40px;
            left: 35%;
            border-radius: 40px 40px 0 0;
            opacity: 0;
            z-index: 2;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .patient::before {
            content: '';
            position: absolute;
            width: 40px;
            height: 40px;
            background: #b39ddb;
            top: -20px;
            left: 20px;
            border-radius: 50%;
        }
        
        .patient::after {
            content: '';
            position: absolute;
            width: 35px;
            height: 35px;
            background: #f8bbd0;
            top: -17px;
            left: 23px;
            border-radius: 50%;
        }
        
        .iv-bag {
            position: absolute;
            width: 70px;
            height: 100px;
            background: #80deea;
            top: 60px;
            right: 30%;
            border-radius: 10px;
            opacity: 0;
            z-index: 2;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .iv-bag::before {
            content: '';
            position: absolute;
            width: 40px;
            height: 20px;
            background: #4dd0e1;
            top: -12px;
            left: 15px;
            border-radius: 5px;
        }
        
        .iv-tube {
            position: absolute;
            width: 8px;
            height: 150px;
            background: #4dd0e1;
            top: 160px;
            right: 35%;
            transform-origin: top center;
            opacity: 0;
            z-index: 1;
        }
        
        .iv-tube::before {
            content: '';
            position: absolute;
            width: 12px;
            height: 12px;
            background: #4dd0e1;
            bottom: 0;
            left: -2px;
            border-radius: 50%;
        }
        
        .cancer-cell {
            position: absolute;
            width: 40px;
            height: 40px;
            background: #f44336;
            border-radius: 50%;
            opacity: 0;
            filter: drop-shadow(0 0 5px rgba(244, 67, 54, 0.7));
            z-index: 3;
            transition: all 0.5s ease;
        }
        
        .cancer-cell::before, .cancer-cell::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background: #e53935;
            border-radius: 50%;
        }
        
        .cancer-cell::before {
            top: -12px;
            left: -12px;
        }
        
        .cancer-cell::after {
            bottom: -12px;
            right: -12px;
        }
        
        .healthy-cell {
            position: absolute;
            width: 35px;
            height: 35px;
            background: #4caf50;
            border-radius: 50%;
            opacity: 0;
            filter: drop-shadow(0 0 3px rgba(76, 175, 80, 0.5));
            z-index: 2;
        }
        
        /* Chemical structures */
        .chemical-structure {
            width: 100%;
            height: 180px;
            position: relative;
            margin: 40px 0;
            background: rgba(255,255,255,0.8);
            border-radius: 10px;
            border: 1px solid rgba(0,0,0,0.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            overflow: hidden;
        }
        
        .chemical-structure::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="1" height="1" fill="%23eee"/></svg>');
            opacity: 0.5;
        }
        
        .atom {
            position: absolute;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 16px;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s ease;
            box-shadow: 0 3px 6px rgba(0,0,0,0.2);
            z-index: 2;
        }
        
        .bond {
            position: absolute;
            height: 3px;
            background: #555;
            transform-origin: left center;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1;
        }
        
        .double-bond {
            position: absolute;
            height: 3px;
            background: #555;
            transform-origin: left center;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1;
        }
        
        .double-bond::after {
            content: '';
            position: absolute;
            top: 5px;
            left: 0;
            width: 100%;
            height: 3px;
            background: #555;
        }
        
        /* Tooltip for chemical elements */
        .tooltip {
            position: absolute;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 14px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 100;
            white-space: nowrap;
        }
        
        /* Progress indicator */
        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.1);
            z-index: 1000;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #26d0ce, #1a2980);
            width: 0%;
            transition: width 0.1s ease;
            box-shadow: 0 0 10px rgba(38, 208, 206, 0.5);
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 80px 20px;
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            color: white;
            clip-path: polygon(0 10%, 100% 0, 100% 100%, 0% 100%);
            margin-top: -30px;
        }
        
        .footer p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        /* Responsive adjustments */
        @media (max-width: 992px) {
            .scene {
                padding: 60px 30px;
            }
            
            .battlefield, .lab, .dna-animation, .treatment-scene {
                height: 350px;
            }
            
            .drug-card {
                width: 180px;
                height: 180px;
            }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            
            .header p {
                font-size: 1.1rem;
            }
            
            .scene {
                padding: 50px 25px;
                min-height: auto;
                margin: 40px auto;
            }
            
            .scene h2 {
                font-size: 1.8rem;
            }
            
            .drug-types {
                gap: 20px;
            }
            
            .drug-card {
                width: 160px;
                height: 160px;
                padding: 15px;
            }
            
            .drug-icon {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }
            
            .drug-card h4 {
                font-size: 18px;
            }
            
            .chemical-structure {
                height: 150px;
            }
        }
        
        @media (max-width: 576px) {
            .header {
                padding: 60px 20px 40px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .team-members {
                padding: 20px;
                margin-bottom: 40px;
            }
            
            .scene {
                padding: 40px 20px;
                margin: 30px auto;
            }
            
            .scene h2 {
                font-size: 1.5rem;
            }
            
            .battlefield, .lab, .dna-animation, .treatment-scene {
                height: 280px;
            }
            
            .drug-types {
                gap: 15px;
            }
            
            .drug-card {
                width: 140px;
                height: 140px;
            }
            
            .drug-icon {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .drug-card h4 {
                font-size: 16px;
                margin: 10px 0 5px;
            }
            
            .chemical-structure {
                height: 120px;
                margin: 30px 0;
            }
            
            .footer {
                padding: 60px 20px;
            }
            
            .footer p {
                font-size: 1.1rem;
            }
        }

        /* Updated label styles to only show on hover */
        .gas-label, .lab-label, .dna-label, .mitosis-label {
            position: absolute;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        /* Show labels when hovering over the scene */
        .battlefield:hover .gas-label,
        .lab:hover .lab-label,
        .dna-animation:hover .dna-label,
        .treatment-scene:hover .mitosis-label {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="chemotherapy-animation">
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        
        <div class="header">
            <h1>From Mustard Gas to Chemotherapy</h1>
            <p>The Alchemical Transformation of Chemical Weapons into Life-Saving Medicines</p>
        </div>
        
        <div class="team-members">
            <h3>Team Members:</h3>
            <p>Toh Kai Xuen, 4D | Tan Jie, 4D | Jocelyn Lau Yu Xuan, 4D</p>
            <p>River Valley High School</p>
        </div>
        
        <!-- WW1 Scene -->
        <div class="scene" id="ww1">
            <h2>1917: Chemical Warfare Beginnings</h2>
            <div class="animation-container">
                <div class="battlefield">
                    <div class="trench"></div>
                    <div class="barbed-wire"></div>
                    <div class="soldier" id="main-soldier">
                        <div class="hands"></div>
                    </div>
                    <div class="gas-cloud">
                        <div class="gas-label">Mustard Gas (Sulfur Mustard)</div>
                    </div>
                    <div class="soldier" style="left: 40%; transform: scaleX(-1);"></div>
                    <div class="soldier" style="left: 70%;"></div>
                    <div id="death-smoke" class="explosion"></div>
                    <!-- Small clouds will be added via JS -->
                </div>
            </div>
            <div class="chemical-structure">
                <!-- Mustard Gas Structure -->
                <!-- Sulfur -->
                <div class="atom" style="background: #4CAF50; left: 150px; top: 60px;">S</div>
                <!-- Carbons -->
                <div class="atom" style="background: #2196F3; left: 90px; top: 60px;">C</div>
                <div class="atom" style="background: #2196F3; left: 210px; top: 60px;">C</div>
                <!-- Chlorines -->
                <div class="atom" style="background: #FF9800; left: 60px; top: 60px;">Cl</div>
                <div class="atom" style="background: #FF9800; left: 90px; top: 30px;">Cl</div>
                <div class="atom" style="background: #FF9800; left: 210px; top: 30px;">Cl</div>
                <div class="atom" style="background: #FF9800; left: 240px; top: 60px;">Cl</div>
                
                <!-- Bonds -->
                <!-- S-C bonds -->
                <div class="bond" style="width: 60px; left: 120px; top: 75px; transform: rotate(0deg);"></div>
                <div class="bond" style="width: 60px; left: 180px; top: 75px; transform: rotate(0deg);"></div>
                                <!-- C-Cl bonds -->
                                <div class="bond" style="width: 30px; left: 75px; top: 75px; transform: rotate(0deg);"></div>
                                <div class="bond" style="width: 30px; left: 105px; top: 45px; transform: rotate(90deg);"></div>
                                <div class="bond" style="width: 30px; left: 225px; top: 45px; transform: rotate(90deg);"></div>
                                <div class="bond" style="width: 30px; left: 255px; top: 75px; transform: rotate(0deg);"></div>
                            </div>
                            <p>Chemical Warfare, first implemented in WW1 by the German army, uses the chemical properties of certain chemical agents to inflict harm and incapacitate opposing troops. One of the most notable examples of chemical warfare agents is Mustard Gas or Sulfur Mustard (C₄H₈Cl₂S), which is a cellular poison, mutagen, and ironically enough a recognized human carcinogen. In addition, autopsies performed on 75 soldiers who had died of mustard agent during World War I reported decreased counts of white blood cells, which motivated scientists to further research its possible applications to treating hematologic cancers, which are characterized by their abnormal white blood cell proliferation.</p>
                        </div>
                        
                        <!-- 1930s Research -->
                        <div class="scene" id="research">
                            <h2>1930s: Nitrogen Mustard Discovery</h2>
                            <div class="animation-container">
                                <div class="lab">
                                    <div class="lab-wall"></div>
                                    <div class="lab-table"></div>
                                    <div class="flask">
                                        <div class="lab-label">Nitrogen Mustard Solution</div>
                                        <div class="flask-liquid"></div>
                                        <div class="flask-bubbles">
                                            <div class="bubble" style="left: 20px;"></div>
                                            <div class="bubble" style="left: 40px; width: 6px; height: 6px;"></div>
                                            <div class="bubble" style="left: 60px;"></div>
                                        </div>
                                    </div>
                                    <div class="microscope">
                                        <div class="lab-label">Microscope</div>
                                    </div>
                                    <div class="lab-equipment">
                                        <div class="lab-label">Centrifuge</div>
                                    </div>
                                    <div class="notes">
                                        <div class="lab-label">Research Notes</div>
                                    </div>
                                </div>
                            </div>
                            <div class="chemical-structure">
                                <!-- Nitrogen Mustard Structure -->
                                <!-- Nitrogen -->
                                <div class="atom" style="background: #9C27B0; left: 150px; top: 60px;">N</div>
                                <!-- Carbons -->
                                <div class="atom" style="background: #2196F3; left: 90px; top: 60px;">C</div>
                                <div class="atom" style="background: #2196F3; left: 210px; top: 60px;">C</div>
                                <!-- Chlorines -->
                                <div class="atom" style="background: #FF9800; left: 60px; top: 60px;">Cl</div>
                                <div class="atom" style="background: #FF9800; left: 90px; top: 30px;">Cl</div>
                                <div class="atom" style="background: #FF9800; left: 210px; top: 30px;">Cl</div>
                                <div class="atom" style="background: #FF9800; left: 240px; top: 60px;">Cl</div>
                                
                                <!-- Bonds -->
                                <!-- N-C bonds -->
                                <div class="bond" style="width: 60px; left: 120px; top: 75px; transform: rotate(0deg);"></div>
                                <div class="bond" style="width: 60px; left: 180px; top: 75px; transform: rotate(0deg);"></div>
                                <!-- C-Cl bonds -->
                                <div class="bond" style="width: 30px; left: 75px; top: 75px; transform: rotate(0deg);"></div>
                                <div class="bond" style="width: 30px; left: 105px; top: 45px; transform: rotate(90deg);"></div>
                                <div class="bond" style="width: 30px; left: 225px; top: 45px; transform: rotate(90deg);"></div>
                                <div class="bond" style="width: 30px; left: 255px; top: 75px; transform: rotate(0deg);"></div>
                            </div>
                            <p>Nitrogen mustards (C₆H₁₂Cl₃N) were first synthesized in the 1930s. These compounds were modifications of sulfur mustard and were found to have greater systemic toxicity than sulfur mustard (Gilman and Philips, 1946; OSRD, 1946). Particularly potent was the effect of nitrogen mustard on cells that are actively proliferating, including the lymphoid tissue, bone marrow, and certain cells lining the gastrointestinal tract. A Yale research group successfully performed a trial on tumour ridden mice, motivating the first ever human chemotherapeutic trial.</p>
                        </div>
                        
                        <!-- Mechanism of Action -->
                        <div class="scene" id="mechanism">
                            <h2>Alkylation Mechanism</h2>
                            <div class="animation-container">
                                <div class="dna-animation">
                                    <div class="dna-strand">
                                        <div class="dna-backbone">
                                            <div class="dna-label">DNA Backbone</div>
                                        </div>
                                        <div class="dna-backbone">
                                            <div class="dna-label">DNA Backbone</div>
                                        </div>
                                        
                                        <!-- DNA bases -->
                                        <div class="dna-base" style="background: #4CAF50; top: 30px; left: 80px;">
                                            <div class="dna-label">Guanine (G)</div>
                                            G
                                        </div>
                                        <div class="dna-connector" style="transform: rotate(-30deg); top: 50px; left: 100px;"></div>
                                        <div class="dna-base" style="background: #2196F3; top: 90px; left: 30px;">
                                            <div class="dna-label">Cytosine (C)</div>
                                            C
                                        </div>
                                        
                                        <div class="dna-base" style="background: #FF9800; top: 150px; left: 80px;">
                                            <div class="dna-label">Adenine (A)</div>
                                            A
                                        </div>
                                        <div class="dna-connector" style="transform: rotate(30deg); top: 170px; left: 100px;"></div>
                                        <div class="dna-base" style="background: #9C27B0; top: 210px; left: 30px;">
                                            <div class="dna-label">Thymine (T)</div>
                                            T
                                        </div>
                                        
                                        <div class="dna-base" style="background: #4CAF50; top: 270px; left: 80px;">
                                            <div class="dna-label">Guanine (G)</div>
                                            G
                                        </div>
                                        <div class="dna-connector" style="transform: rotate(-20deg); top: 290px; left: 100px;"></div>
                                        <div class="dna-base" style="background: #2196F3; top: 330px; left: 30px;">
                                            <div class="dna-label">Cytosine (C)</div>
                                            C
                                        </div>
                                        
                                        <!-- Aziridinium ion -->
                                        <div class="aziridinium" style="top: -20px; left: 80px;">A+</div>
                                        <div class="crosslink" style="top: 40px; left: 85px;"></div>
                                        <div class="crosslink" style="top: 280px; left: 85px;"></div>
                                        <div class="dna-damage" style="top: 50px; left: 85px;"></div>
                                        <div class="dna-damage" style="top: 290px; left: 85px;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="chemical-structure">
                                <!-- Aziridinium ion structure -->
                                <!-- Nitrogen -->
                                <div class="atom" style="background: #9C27B0; left: 150px; top: 60px;">N+</div>
                                <!-- Carbons -->
                                <div class="atom" style="background: #2196F3; left: 120px; top: 30px;">C</div>
                                <div class="atom" style="background: #2196F3; left: 180px; top: 30px;">C</div>
                                
                                <!-- Bonds -->
                                <!-- Ring bonds -->
                                <div class="bond" style="width: 42px; left: 135px; top: 45px; transform: rotate(45deg);"></div>
                                <div class="bond" style="width: 42px; left: 135px; top: 75px; transform: rotate(-45deg);"></div>
                                <div class="bond" style="width: 42px; left: 165px; top: 45px; transform: rotate(-45deg);"></div>
                                <div class="bond" style="width: 42px; left: 165px; top: 75px; transform: rotate(45deg);"></div>
                            </div>
                            <p>Modern day Chemotherapeutic drugs utilise the same mechanism that were discovered to explain the cytotoxicity of Nitrogen Mustards. Nitrogen Mustards serve as alkylating agents, meaning that they can donate alkyl groups to nucleophilic sites on DNA bases, most commonly guanine at the N7 position, as it is highly reactive. The Chemo drugs form aziridinium ring which has a high reactivity due to their three membered ring.The N7 nitrogen in guanine has a lone pair, making it a strong nucleophile. This allows for DNA alkylation where the alkyl groups are added to the DNA strands, causing cross linking, preventing replication and causing apoptosis.</p>
                        </div>
                        
                        <!-- Modern Drugs -->
                        <div class="scene" id="drugs">
                            <h2>Modern Chemotherapy Agents</h2>
                            <div class="drug-types">
                                <div class="drug-card" id="cyclophosphamide">
                                    <div class="drug-icon">C</div>
                                    <h4>Cyclophosphamide</h4>
                                    <p>Lymphomas, Leukemia</p>
                                </div>
                                <div class="drug-card" id="nitrosoureas">
                                    <div class="drug-icon">N</div>
                                    <h4>Nitrosoureas</h4>
                                    <p>Brain tumors</p>
                                </div>
                                <div class="drug-card" id="alkyl-sulfonates">
                                    <div class="drug-icon">A</div>
                                    <h4>Alkyl Sulfonates</h4>
                                    <p>Various cancers</p>
                                </div>
                                <div class="drug-card" id="oxazaphosphorines">
                                    <div class="drug-icon">O</div>
                                    <h4>Oxazaphosphorines</h4>
                                    <p>Sarcoma</p>
                                </div>
                            </div>
                            <div class="chemical-structure">
                                <!-- Cyclophosphamide structure -->
                                <!-- Nitrogen -->
                                <div class="atom" style="background: #9C27B0; left: 150px; top: 60px;">N</div>
                                <!-- Phosphorus -->
                                <div class="atom" style="background: #FF5722; left: 210px; top: 60px;">P</div>
                                <!-- Oxygen -->
                                <div class="atom" style="background: #4CAF50; left: 240px; top: 30px;">O</div>
                                <div class="atom" style="background: #4CAF50; left: 240px; top: 90px;">O</div>
                                <!-- Chlorines -->
                                <div class="atom" style="background: #FF9800; left: 120px; top: 30px;">Cl</div>
                                <div class="atom" style="background: #FF9800; left: 120px; top: 90px;">Cl</div>
                                
                                <!-- Bonds -->
                                <!-- N-P bond -->
                                <div class="bond" style="width: 60px; left: 165px; top: 75px; transform: rotate(0deg);"></div>
                                <!-- P-O bonds -->
                                <div class="bond" style="width: 30px; left: 225px; top: 45px; transform: rotate(45deg);"></div>
                                <div class="bond" style="width: 30px; left: 225px; top: 105px; transform: rotate(-45deg);"></div>
                                <!-- N-Cl bonds -->
                                <div class="bond" style="width: 30px; left: 135px; top: 45px; transform: rotate(90deg);"></div>
                                <div class="bond" style="width: 30px; left: 135px; top: 105px; transform: rotate(90deg);"></div>
                            </div>
                            <p>Modern day chemo drugs build on these principles of alkylation and cross-linking, such as cyclophosphamide which is used to treat for lymphomas and leukemia, and Nitrosoureas which are lipophilic alkylating agents, allowing them to treat for brain tumours like glioblastoma.</p>
                        </div>
                        
                        <!-- Treatment Today -->
                        <div class="scene" id="treatment">
                            <h2>Modern Cancer Treatment</h2>
                            <div class="animation-container">
                                <div class="treatment-scene">
                                    <div class="hospital-bed"></div>
                                    <div class="patient"></div>
                                    <div class="iv-bag"></div>
                                    <div class="iv-tube"></div>
                                    <div class="mitosis-label">Chemotherapy Treatment</div>
                                    
                                    <!-- Cancer cells that will be destroyed -->
                                    <div class="cancer-cell" style="top: 100px; left: 80px;"></div>
                                    <div class="cancer-cell" style="top: 150px; left: 160px;"></div>
                                    <div class="cancer-cell" style="top: 80px; left: 240px;"></div>
                                    <div class="cancer-cell" style="top: 180px; left: 120px;"></div>
                                    <div class="cancer-cell" style="top: 120px; left: 200px;"></div>
                                    
                                    <!-- Healthy cells -->
                                    <div class="healthy-cell" style="top: 70px; left: 120px;"></div>
                                    <div class="healthy-cell" style="top: 130px; left: 200px;"></div>
                                    <div class="healthy-cell" style="top: 90px; left: 160px;"></div>
                                    
                                    <!-- Cell division animation -->
                                    <div class="cell-division" style="position: absolute; width: 50px; height: 50px; background: #f44336; border-radius: 50%; top: 200px; left: 200px; opacity: 0; transform: scale(0);"></div>
                                </div>
                            </div>
                            <div class="chemical-structure">
                                <!-- Temozolomide structure -->
                                <!-- Nitrogen atoms -->
                                <div class="atom" style="background: #9C27B0; left: 100px; top: 60px;">N</div>
                                <div class="atom" style="background: #9C27B0; left: 200px; top: 60px;">N</div>
                                <div class="atom" style="background: #9C27B0; left: 150px; top: 30px;">N</div>
                                <!-- Oxygen atoms -->
                                <div class="atom" style="background: #4CAF50; left: 120px; top: 90px;">O</div>
                                <div class="atom" style="background: #4CAF50; left: 180px; top: 90px;">O</div>
                                <!-- Carbon atoms -->
                                <div class="atom" style="background: #2196F3; left: 150px; top: 90px;">C</div>
                                
                                <!-- Bonds -->
                                <!-- Ring bonds -->
                                <div class="bond" style="width: 50px; left: 115px; top: 75px; transform: rotate(0deg);"></div>
                                <div class="bond" style="width: 50px; left: 165px; top: 75px; transform: rotate(0deg);"></div>
                                <!-- Vertical bonds -->
                                <div class="bond" style="width: 30px; left: 150px; top: 45px; transform: rotate(90deg);"></div>
                                <!-- C=O bonds -->
                                <div class="double-bond" style="width: 30px; left: 135px; top: 105px; transform: rotate(0deg);"></div>
                                <div class="double-bond" style="width: 30px; left: 185px; top: 105px; transform: rotate(0deg);"></div>
                            </div>
                            <p>Today these compounds treat various cancers: Mitomycin C (adenocarcinomas), Dacarbazine (melanomas), Temozolomide (glioblastomas). Their development showcases science's impartiality - transforming poisons into medicines through chemical innovation.</p>
                        </div>
                        
                        <div class="footer">
                            <p>From Chemical Warfare to Cancer Cure: The Alchemical Evolution of Chemotherapy</p>
                        </div>
                    </div>
                
                    <script>
                        // Initialize GSAP and ScrollTrigger
                        gsap.registerPlugin(ScrollTrigger);
                        
                        // Set up all animations
                        function setupAnimations() {
                            // Progress bar animation
                            gsap.to("#progressBar", {
                                scrollTrigger: {
                                    trigger: ".chemotherapy-animation",
                                    start: "top top",
                                    end: "bottom bottom",
                                    scrub: true
                                },
                                width: "100%",
                                ease: "none"
                            });
                            
                            // Battlefield Animation
                            const battlefield = document.querySelector(".battlefield");
                            
                            // Create small gas clouds
                            for (let i = 0; i < 5; i++) {
                                const smallCloud = document.createElement("div");
                                smallCloud.className = "small-cloud";
                                smallCloud.style.left = `${40 + i * 15}%`;
                                smallCloud.style.top = `${30 + i * 5}%`;
                                battlefield.appendChild(smallCloud);
                            }
                            
                            const smallClouds = gsap.utils.toArray(".small-cloud");
                            const gasCloud = document.querySelector(".gas-cloud");
                            const soldiers = gsap.utils.toArray(".soldier");
                            const mainSoldier = document.querySelector("#main-soldier");
                            
                            // Main gas cloud animation
                            gsap.fromTo(gasCloud, 
                                {
                                    opacity: 0,
                                    scale: 0.3,
                                    x: 300,
                                    y: 0,
                                    filter: "blur(5px)"
                                },
                                {
                                    scrollTrigger: {
                                        trigger: "#ww1",
                                        start: "top center",
                                        end: "bottom center",
                                        scrub: 1,
                                        markers: false
                                    },
                                    opacity: 0.8,
                                    scale: 3,
                                    x: -200,
                                    y: -40,
                                    duration: 5,
                                    ease: "power2.out",
                                    filter: "blur(15px)",
                                    onUpdate: function() {
                                        // Dynamic color change as gas spreads
                                        const progress = this.progress();
                                        const hueRotate = progress * 60;
                                        gasCloud.style.filter = `blur(${5 + progress * 10}px) hue-rotate(${hueRotate}deg)`;
                                    }
                                }
                            );
                            
                            // Small gas clouds animation
                            smallClouds.forEach((cloud, i) => {
                                gsap.to(cloud, {
                                    scrollTrigger: {
                                        trigger: "#ww1",
                                        start: "top center",
                                        end: "bottom center",
                                        scrub: true
                                    },
                                    opacity: 0.4,
                                    scale: 1.5,
                                    x: -50 + (i * 20),
                                    y: -20 + (i * 5),
                                    duration: 4,
                                    delay: i * 0.2
                                });
                            });
                            
                            // Main soldier collapse animation
                            gsap.to(mainSoldier, {
                                scrollTrigger: {
                                    trigger: "#ww1",
                                    start: "top center",
                                    end: "bottom center",
                                    scrub: true
                                },
                                keyframes: [
                                    {y: 0, rotation: 0, opacity: 1, filter: "brightness(100%)", ease: "none"},
                                    {y: -10, rotation: -5, duration: 1},
                                    {y: -30, rotation: -30, opacity: 0.7, duration: 1},
                                    {y: 20, rotation: -80, opacity: 0.4, duration: 1},
                                    {y: 40, rotation: -90, opacity: 0.2, duration: 1}
                                ],
                                ease: "power2.in"
                            });
                            
                            // Soldier color change (simulating gas effects)
                            gsap.to(mainSoldier, {
                                scrollTrigger: {
                                    trigger: "#ww1",
                                    start: "top center",
                                    end: "bottom center",
                                    scrub: true
                                },
                                backgroundColor: "#6a8c4f",
                                duration: 3
                            });
                            
                            // Other soldiers animations
                            soldiers.forEach((soldier, i) => {
                                if (soldier !== mainSoldier) {
                                    const stagger = i * 0.3;
                                    
                                    // Soldier collapse animation
                                    gsap.to(soldier, {
                                        scrollTrigger: {
                                            trigger: "#ww1",
                                            start: "top center",
                                            end: "bottom center",
                                            scrub: 1
                                        },
                                        keyframes: [
                                            {y: 0, rotation: 0, opacity: 1, filter: "brightness(100%)", ease: "none"},
                                            {y: -10, rotation: (i % 2 === 0 ? -5 : 5), duration: 1},
                                            {y: -30, rotation: (i % 2 === 0 ? -30 : 30), opacity: 0.7, duration: 1},
                                            {y: 20, rotation: (i % 2 === 0 ? -80 : 80), opacity: 0.4, duration: 1},
                                            {y: 40, rotation: (i % 2 === 0 ? -90 : 90), opacity: 0.2, duration: 1}
                                        ],
                                        ease: "power2.in",
                                        delay: stagger
                                    });
                
                                    // Soldier color change (simulating gas effects)
                                    gsap.to(soldier, {
                                        scrollTrigger: {
                                            trigger: "#ww1",
                                            start: "top center",
                                            end: "bottom center",
                                            scrub: 1
                                        },
                                        backgroundColor: i % 2 === 0 ? "#6a8c4f" : "#8a6a4f",
                                        duration: 3,
                                        delay: stagger
                                    });
                                }
                            });
                            
                            // Chemical structure animation for WW1
                            const ww1Atoms = gsap.utils.toArray("#ww1 .atom");
                            const ww1Bonds = gsap.utils.toArray("#ww1 .bond");
                            
                            gsap.fromTo(ww1Atoms.concat(ww1Bonds), {
                                opacity: 0,
                                scale: 0
                            }, {
                                scrollTrigger: {
                                    trigger: "#ww1",
                                    start: "top center",
                                    end: "bottom center",
                                    scrub: true,
                                    onEnter: () => {
                                        gsap.to(ww1Atoms.concat(ww1Bonds), {
                                            opacity: 1,
                                            scale: 1,
                                            duration: 1,
                                            stagger: 0.1
                                        });
                                    },
                                    onLeaveBack: () => {
                                        gsap.to(ww1Atoms.concat(ww1Bonds), {
                                            opacity: 0,
                                            scale: 0,
                                            duration: 0.5
                                        });
                                    }
                                }
                            });
                            
                            // Lab Animation
                            gsap.to([".flask", ".microscope", ".lab-equipment", ".notes"], {
                                scrollTrigger: {
                                    trigger: "#research",
                                    start: "top center",
                                    end: "+=500",
                                    scrub: true
                                },
                                opacity: 1,
                                y: 0,
                                duration: 1,
                                stagger: 0.2
                            });
                            
                            gsap.to(".flask-liquid", {
                                scrollTrigger: {
                                    trigger: "#research",
                                    start: "top center",
                                    end: "+=600",
                                    scrub: true
                                },
                                scaleY: 1.8,
                                duration: 2,
                                ease: "sine.inOut"
                            });
                            
                            // Bubbles in flask
                            const bubbles = gsap.utils.toArray(".bubble");
                            bubbles.forEach((bubble, i) => {
                                gsap.to(bubble, {
                                    scrollTrigger: {
                                        trigger: "#research",
                                        start: "center center",
                                        scrub: true
                                    },
                                    opacity: 1,
                                    y: -80,
                                    duration: 3 + i * 0.5,
                                    repeat: -1,
                                    delay: i * 0.3,
                                    ease: "sine.in"
                                });
                            });
                            
                            // Flask wobble effect
                            gsap.to(".flask", {
                                scrollTrigger: {
                                    trigger: "#research",
                                    start: "center center",
                                    scrub: true
                                },
                                rotation: 5,
                                yoyo: true,
                                repeat: 1,
                                duration: 0.8,
                                ease: "sine.inOut"
                            });
                            
                            // Research chemical structure
                            const researchAtoms = gsap.utils.toArray("#research .atom");
                            const researchBonds = gsap.utils.toArray("#research .bond");
                            
                            gsap.fromTo(researchAtoms.concat(researchBonds), {
                                opacity: 0,
                                scale: 0
                            }, {
                                scrollTrigger: {
                                    trigger: "#research",
                                    start: "top center",
                                    end: "bottom center",
                                    scrub: true,
                                    onEnter: () => {
                                        gsap.to(researchAtoms.concat(researchBonds), {
                                            opacity: 1,
                                            scale: 1,
                                            duration: 1,
                                            stagger: 0.1
                                        });
                                    },
                                    onLeaveBack: () => {
                                        gsap.to(researchAtoms.concat(researchBonds), {
                                            opacity: 0,
                                            scale: 0,
                                            duration: 0.5
                                        });
                                    }
                                }
                            });
                            
                            // DNA Animation
                            const dnaBases = gsap.utils.toArray(".dna-base");
                            const dnaConnectors = gsap.utils.toArray(".dna-connector");
                            const crosslinks = gsap.utils.toArray(".crosslink");
                            const dnaDamages = gsap.utils.toArray(".dna-damage");
                            
                            gsap.to(dnaBases, {
                                scrollTrigger: {
                                    trigger: "#mechanism",
                                    start: "top center",
                                    end: "+=500",
                                    scrub: true
                                },
                                opacity: 1,
                                scale: 1,
                                duration: 1,
                                stagger: 0.2
                            });
                            
                            gsap.to(dnaConnectors, {
                                scrollTrigger: {
                                    trigger: "#mechanism",
                                    start: "top center",
                                    end: "+=500",
                                    scrub: true
                                },
                                opacity: 1,
                                duration: 1,
                                stagger: 0.2
                            });
                            
                            gsap.to(".aziridinium", {
                                scrollTrigger: {
                                    trigger: "#mechanism",
                                    start: "top center",
                                    end: "+=400",
                                    scrub: true
                                },
                                opacity: 1,
                                y: 50,
                                duration: 1,
                                ease: "back.out"
                            });
                            
                            gsap.to(crosslinks, {
                                scrollTrigger: {
                                    trigger: "#mechanism",
                                    start: "center center",
                                    end: "+=600",
                                    scrub: true
                                },
                                opacity: 1,
                                scale: 3,
                                duration: 2
                            });
                            
                            gsap.to(dnaDamages, {
                                scrollTrigger: {
                                    trigger: "#mechanism",
                                    start: "center center",
                                    end: "+=700",
                                    scrub: true
                                },
                                opacity: 1,
                                scale: 1.5,
                                duration: 2,
                                stagger: 0.1
                            });
                            
                            // DNA base wobble effect
                            gsap.to(dnaBases, {
                                scrollTrigger: {
                                    trigger: "#mechanism",
                                    start: "center center",
                                    scrub: true
                                },
                                y: 10,
                                duration: 0.5,
                                stagger: 0.1,
                                yoyo: true,
                                repeat: 1,
                                ease: "sine.inOut"
                            });
                            
                            // Mechanism chemical structure
                            const mechanismAtoms = gsap.utils.toArray("#mechanism .atom");
                            const mechanismBonds = gsap.utils.toArray("#mechanism .bond");
                            
                            gsap.fromTo(mechanismAtoms.concat(mechanismBonds), {
                                opacity: 0,
                                scale: 0
                            }, {
                                scrollTrigger: {
                                    trigger: "#mechanism",
                                    start: "top center",
                                    end: "bottom center",
                                    scrub: true,
                                    onEnter: () => {
                                        gsap.to(mechanismAtoms.concat(mechanismBonds), {
                                            opacity: 1,
                                            scale: 1,
                                            duration: 1,
                                            stagger: 0.1
                                        });
                                    },
                                    onLeaveBack: () => {
                                        gsap.to(mechanismAtoms.concat(mechanismBonds), {
                                            opacity: 0,
                                            scale: 0,
                                            duration: 0.5
                                        });
                                    }
                                }
                            });
                            
                            // Drug Cards Animation
                            const drugCards = gsap.utils.toArray(".drug-card");
                            gsap.to(drugCards, {
                                scrollTrigger: {
                                    trigger: "#drugs",
                                    start: "top center",
                                    end: "+=600",
                                    scrub: true
                                },
                                opacity: 1,
                                y: 0,
                                duration: 1,
                                stagger: 0.2,
                                ease: "back.out"
                            });
                            
                            // Drug card hover effects
                            drugCards.forEach(card => {
                                card.addEventListener("mouseenter", () => {
                                    gsap.to(card, {
                                        scale: 1.05,
                                        duration: 0.3,
                                        boxShadow: "0 10px 25px rgba(0,0,0,0.2)"
                                    });
                                });
                                
                                card.addEventListener("mouseleave", () => {
                                    gsap.to(card, {
                                        scale: 1,
                                        duration: 0.3,
                                        boxShadow: "0 8px 20px rgba(0,0,0,0.1)"
                                    });
                                });
                            });
                            
                            // Drugs chemical structure
                            const drugAtoms = gsap.utils.toArray("#drugs .atom");
                            const drugBonds = gsap.utils.toArray("#drugs .bond");
                            
                            gsap.fromTo(drugAtoms.concat(drugBonds), {
                                opacity: 0,
                                scale: 0
                            }, {
                                scrollTrigger: {
                                    trigger: "#drugs",
                                    start: "top center",
                                    end: "bottom center",
                                    scrub: true,
                                    onEnter: () => {
                                        gsap.to(drugAtoms.concat(drugBonds), {
                                            opacity: 1,
                                            scale: 1,
                                            duration: 1,
                                            stagger: 0.1
                                        });
                                    },
                                    onLeaveBack: () => {
                                        gsap.to(drugAtoms.concat(drugBonds), {
                                            opacity: 0,
                                            scale: 0,
                                            duration: 0.5
                                        });
                                    }
                                }
                            });
                            
                            // Treatment Animation
                            gsap.to([".patient", ".iv-bag"], {
                                scrollTrigger: {
                                    trigger: "#treatment",
                                    start: "top center",
                                    end: "+=500",
                                    scrub: true
                                },
                                opacity: 1,
                                x: 0,
                                duration: 1,
                                ease: "back.out"
                            });
                            
                            gsap.to(".iv-tube", {
                                scrollTrigger: {
                                    trigger: "#treatment",
                                    start: "top center",
                                    end: "+=600",
                                    scrub: true
                                },
                                opacity: 1,
                                scaleY: 1,
                                duration: 1.5,
                                ease: "power2.out"
                            });
                            
                            // Cancer cells appearing and disappearing
                            const cancerCells = gsap.utils.toArray(".cancer-cell");
                            const healthyCells = gsap.utils.toArray(".healthy-cell");
                            
                            // Healthy cells appear
                            gsap.to(healthyCells, {
                                scrollTrigger: {
                                    trigger: "#treatment",
                                    start: "top center",
                                    end: "+=400",
                                    scrub: true
                                },
                                opacity: 1,
                                scale: 1,
                                duration: 0.5,
                                stagger: 0.2
                            });
                            
                            // Cancer cells appear then disappear
                            cancerCells.forEach((cell, i) => {
                                gsap.to(cell, {
                                    scrollTrigger: {
                                        trigger: "#treatment",
                                        start: "top center",
                                        end: "+=700",
                                        scrub: true
                                    },
                                    keyframes: [
                                        {opacity: 1, scale: 1, duration: 0.5, delay: i * 0.2},
                                        {opacity: 0, scale: 0, duration: 1, delay: i * 0.2 + 0.5}
                                    ],
                                    ease: "power2.inOut"
                                });
                            });
                            
                            // Abnormal mitosis animation
                            const cellDivision = document.querySelector(".cell-division");
                            gsap.to(cellDivision, {
                                scrollTrigger: {
                                    trigger: "#treatment",
                                    start: "top center",
                                    end: "+=800",
                                    scrub: true
                                },
                                opacity: 1,
                                scale: 1.5,
                                duration: 2,
                                ease: "power2.inOut"
                            });
                            
                            // Treatment chemical structure
                            const treatmentAtoms = gsap.utils.toArray("#treatment .atom");
                            const treatmentBonds = gsap.utils.toArray("#treatment .bond");
                            const treatmentDoubleBonds = gsap.utils.toArray("#treatment .double-bond");
                            
                            gsap.fromTo(treatmentAtoms.concat(treatmentBonds, treatmentDoubleBonds), {
                                opacity: 0,
                                scale: 0
                            }, {
                                scrollTrigger: {
                                    trigger: "#treatment",
                                    start: "top center",
                                    end: "bottom center",
                                    scrub: true,
                                    onEnter: () => {
                                        gsap.to(treatmentAtoms.concat(treatmentBonds, treatmentDoubleBonds), {
                                            opacity: 1,
                                            scale: 1,
                                            duration: 1,
                                            stagger: 0.1
                                        });
                                    },
                                    onLeaveBack: () => {
                                        gsap.to(treatmentAtoms.concat(treatmentBonds, treatmentDoubleBonds), {
                                            opacity: 0,
                                            scale: 0,
                                            duration: 0.5
                                        });
                                    }
                                }
                            });
                            
                            // Tooltip functionality for chemical elements
                            document.querySelectorAll('.atom, .dna-base').forEach(element => {
                                const tooltip = document.createElement('div');
                                tooltip.className = 'tooltip';
                                tooltip.textContent = element.textContent;
                                document.body.appendChild(tooltip);
                                
                                element.addEventListener('mouseenter', (e) => {
                                    const rect = element.getBoundingClientRect();
                                    tooltip.style.left = `${rect.left + rect.width/2 - tooltip.offsetWidth/2}px`;
                                    tooltip.style.top = `${rect.top - 35}px`;
                                    tooltip.style.opacity = '1';
                                });
                                
                                element.addEventListener('mouseleave', () => {
                                    tooltip.style.opacity = '0';
                                });
                            });
                        }
                        
                        // Initialize everything
                        document.addEventListener('DOMContentLoaded', () => {
                            setupAnimations();
                        });
                        
                        // Refresh ScrollTrigger when window loads
                        window.addEventListener('load', () => {
                            ScrollTrigger.refresh();
                        });
                    </script>
                </body>
                </html>
